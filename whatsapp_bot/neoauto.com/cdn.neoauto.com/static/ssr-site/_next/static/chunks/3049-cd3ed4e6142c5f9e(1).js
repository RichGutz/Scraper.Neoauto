"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3049],{74313:function(e,n,i){i.d(n,{R:function(){return d}});var a=i(96179),t=i(48326),r=i(19471),l=i(98651),s=i(22119),o=i(88505),c=i(64053),m=i(41975),u=i(84168);let d=e=>{let n={auction:(0,a.jsx)(t.i,{}),car:(0,a.jsx)(r.H,{}),local_offer:(0,a.jsx)(l.u,{}),neoauto:(0,a.jsx)(s.b,{}),santander:(0,a.jsx)(o.$,{}),neofest:(0,a.jsx)(c.C,{}),discount:(0,a.jsx)(m.O,{}),gift:(0,a.jsx)(u.r,{})};return Object.hasOwn(n,e)?n[e]:(0,a.jsx)(a.Fragment,{})}},2121:function(e,n,i){i.d(n,{Z:function(){return h}});var a=i(86663),t=i(86209);let r=async e=>{try{return(await t.L.request((0,a.BX)("\n        query getActiveAdCountByUserId(\n          $searchEngineAnnouncementInput: SearchEngineAnnouncementInput!\n        ) {\n          searchEngineAnnouncements(\n            searchEngineAnnouncementInput: $searchEngineAnnouncementInput\n          ) {\n            total\n          }\n        }\n      "),{searchEngineAnnouncementInput:{userId:e}})).searchEngineAnnouncements.total}catch(e){return 0}};var l=i(96516),s=i(73820),o=i(23390),c=i(9670);let m=e=>{var n,i,a,t,r,l,o;return{tagName:null!==(n=null==e?void 0:e.tagName)&&void 0!==n?n:"",tagVariant:null!==(i=null==e?void 0:e.tagVariant)&&void 0!==i?i:"",stripeImage:null!==(a=null==e?void 0:e.stripeImage)&&void 0!==a?a:"",visiblePriceOffer:null!==(t=null==e?void 0:e.visiblePriceOffer)&&void 0!==t&&t,offerPrice:null!==(r=null==e?void 0:e.offerPrice)&&void 0!==r?r:0,offerPriceLabel:(0,s.T4)(null!==(l=null==e?void 0:e.offerPrice)&&void 0!==l?l:0,"US$"),icon:null!==(o=null==e?void 0:e.icon)&&void 0!==o?o:""}},u=e=>{var n,i;return null!==(i=null===(n=e.searchEngineAnnouncements.items)||void 0===n?void 0:n.map(e=>{var n,i,a;return{id:e.announcement.id,contact:e.contact,vehicleTitle:(0,s.Ls)((0,s.Mt)(e.brand.name,e.model.name,String(e.vehicle.modelYear))),defaultLabel:e.defaultLabel,slug:e.announcement.slug,ubigeo:{provinceName:e.ubigeo.provinceName,departmentName:e.ubigeo.departmentName,name:e.ubigeo.name},offer:m(e.offer),brand:e.brand.name,model:e.model.name,modelYear:e.vehicle.modelYear,entity:e.entity,typeFatherName:e.model.typeFatherName,vehicleName:e.vehicleType.name,versionsNumber:0!==Number(e.vehicle.versionsNumber)?e.vehicle.versionsNumber:1,descripcion:null!==(n=e.announcement.subTitle)&&void 0!==n?n:"",isEntity:e.user.typeId!==c.FW.NATURAL_PEOPLE,isUsedCar:e.vehicle.status===c.lf.USED||e.vehicle.status===c.lf.LIKE_NEW,is0km:e.vehicle.status===c.lf.CATALOG_0KM,photos:e.photos.map(e=>e.medium),mileageLabel:e.vehicle.mileage>0?(0,s.yo)(e.vehicle.mileage):void 0,fuel:e.fuel.name,transmission:e.transmission.name,santander:{...e.santander,feeLabel:(0,s.T4)(null!==(i=e.santander.fee)&&void 0!==i?i:0,"US$"),priceLabel:(0,s.T4)(null!==(a=e.santander.price)&&void 0!==a?a:0,"US$")},versionName:e.announcement.versionName,hasPayment:"GRATUITO"!==e.publicationType.name,publicationType:e.publicationType.id,publicationName:e.publicationType.name,isVerified:!!e.verifiedVehicle.isVerified,user:e.user,price:{...e.price,priceLabel:(0,s.T4)(e.price.price,"US$")},isSantanderVehicleLiquidation:!!e.isSantanderVehicleLiquidation}}))&&void 0!==i?i:[]},d=async e=>{let{vehicleTypeId:n="CAR",allowedVehicleStatus:i,filter:r=""}=e;try{let e=(0,s.Ov)(n,l.F0),c=(0,o.isJSON)(r)?JSON.parse(r):{},m={page:1,limit:16,minTotalPhotos:1,viewVehiclePrice:!0,minVehiclePrice:1,sort:"random desc",highlightId:2,...void 0!==i&&{allowedVehicleStatus:i},...void 0!==e&&{vehicleTypeId:e},...c},d=await t.L.request((0,a.BX)("\n        query searchEngineAnnouncements(\n          $searchEngineAnnouncementInput: SearchEngineAnnouncementInput!\n        ) {\n          searchEngineAnnouncements(\n            searchEngineAnnouncementInput: $searchEngineAnnouncementInput\n          ) {\n            items {\n              defaultLabel\n              announcement {\n                id\n                slug\n                subTitle\n                description\n                versionName\n              }\n              offer {\n                slug\n                stripeImage\n                tagImage\n                tagName\n                tagVariant\n                visiblePriceOffer\n                offerPrice\n                icon\n              }\n              brand {\n                name\n              }\n              model {\n                name\n                typeFatherName\n              }\n              transmission {\n                name\n              }\n              fuel {\n                id\n                name\n              }\n              price {\n                price\n                viewPrice\n                priceLabel\n                listPrice\n                viewListPrice\n              }\n              santander {\n                flagActive\n                price\n                fee\n                showPrice\n                quantityFees\n              }\n              user {\n                typeId\n              }\n              ubigeo {\n                provinceName\n                departmentName\n                name\n              }\n              vehicle {\n                modelYear\n                mileage\n                status\n                versionsNumber\n                fabricationYear\n                mileageLabel\n                engineCylinder\n                transmissionBox\n              }\n              entity {\n                id\n                name\n                slug\n                type\n              }\n              cylinder {\n                id\n                capacity\n              }\n              vehicleType {\n                id\n                name\n              }\n              verifiedVehicle {\n                isVerified\n                verifiedAt\n              }\n              publicationType {\n                id\n                name\n              }\n              photos {\n                medium\n              }\n              contact {\n                name\n                sellerLogo\n              }\n              user {\n                id\n                typeId\n              }\n              isSantanderVehicleLiquidation\n            }\n          }\n        }\n      "),{searchEngineAnnouncementInput:{...m}}),v=u(d);return(0,s.G8)(v)}catch(e){throw console.error(e),Error("Error getting highlighted advertisements")}},v=e=>{var n,i,a,t,r,l,o;return{tagName:null!==(n=null==e?void 0:e.tagName)&&void 0!==n?n:"",tagVariant:null!==(i=null==e?void 0:e.tagVariant)&&void 0!==i?i:"",stripeImage:null!==(a=null==e?void 0:e.stripeImage)&&void 0!==a?a:"",visiblePriceOffer:null!==(t=null==e?void 0:e.visiblePriceOffer)&&void 0!==t&&t,offerPrice:null!==(r=null==e?void 0:e.offerPrice)&&void 0!==r?r:0,offerPriceLabel:(0,s.T4)(null!==(l=null==e?void 0:e.offerPrice)&&void 0!==l?l:0,"US$"),icon:null!==(o=null==e?void 0:e.icon)&&void 0!==o?o:""}},p=e=>e.map(e=>{var n,i,a,t,r,l,o,m;return{isSantanderVehicleLiquidation:!!e.isSantanderVehicleLiquidation,contact:e.contact,vehicleTitle:(0,s.Ls)((0,s.Mt)(e.brand.name,e.model.name,String(e.vehicle.modelYear))),defaultLabel:e.defaultLabel,announcement:{id:e.announcement.id,slug:(0,s.e7)(null!==(n=e.announcement.slug)&&void 0!==n?n:""),subTitle:null!==(i=e.announcement.subTitle)&&void 0!==i?i:"",description:e.announcement.description},brand:{name:e.brand.name},model:{name:e.model.name},transmission:{name:e.transmission.name},price:{price:e.price.price,viewPrice:e.price.viewPrice,priceLabel:(0,s.T4)(null!==(a=e.price.price)&&void 0!==a?a:0,"US$")},santander:{flagActive:e.santander.flagActive,price:null!==(t=e.santander.price)&&void 0!==t?t:0,fee:e.santander.fee,showPrice:e.santander.showPrice,feeLabel:(0,s.T4)(null!==(r=e.santander.fee)&&void 0!==r?r:0,"US$"),priceLabel:(0,s.T4)(null!==(l=e.santander.price)&&void 0!==l?l:0,"US$")},user:{typeId:e.user.typeId},ubigeo:{provinceName:e.ubigeo.provinceName,departmentName:e.ubigeo.departmentName},entity:e.entity,vehicle:{modelYear:e.vehicle.modelYear,mileage:e.vehicle.mileage,mileageLabel:e.vehicle.mileageLabel,status:e.vehicle.status,versionsNumber:e.vehicle.versionsNumber},versionsNumber:0!==Number(e.vehicle.versionsNumber)?e.vehicle.versionsNumber:1,vehicleType:{id:e.vehicleType.id},versionName:e.announcement.versionName,verifiedVehicle:{isVerified:null!==(o=e.verifiedVehicle.isVerified)&&void 0!==o&&o,verifiedAt:null!==(m=e.verifiedVehicle.verifiedAt)&&void 0!==m?m:null},publicationType:e.publicationType.id,publicationName:e.publicationType.name,photos:e.photos.map(e=>({small:e.small,medium:e.medium,large:e.large,xlarge:e.xlarge})),hasPayment:"PREMIUM"===e.publicationType.name||e.announcement.flagSimilar,is0km:e.vehicle.status===c.lf.CATALOG_0KM,isVerified:!!e.verifiedVehicle.isVerified,isUsedCar:e.vehicle.status===c.lf.USED||e.vehicle.status===c.lf.LIKE_NEW,fuel:e.fuel.name,isEntity:e.user.typeId!==c.FW.NATURAL_PEOPLE,mileageLabel:e.vehicle.mileage>0?(0,s.yo)(e.vehicle.mileage):void 0,offer:v(e.offer)}}),f=async e=>{let{advertisementId:n,brandId:i,modelId:r,vehicleCategoryId:l,limit:s=20,vehicleConditionId:o,sort:c}=e;try{let e=(0,a.BX)("\n      query getSimilarAdvertisements(\n        $advertisementId: Float!\n        $similarAdvertisementInput: SimilarAdvertisementInput!\n      ) {\n        similarAdvertisements(\n          advertisementId: $advertisementId\n          similarAdvertisementInput: $similarAdvertisementInput\n        ) {\n          defaultLabel\n          announcement {\n            id\n            slug\n            subTitle\n            description\n            versionName\n            flagSimilar\n          }\n          offer {\n            slug\n            stripeImage\n            tagImage\n            tagName\n            tagVariant\n            visiblePriceOffer\n            offerPrice\n            icon\n          }\n          brand {\n            name\n          }\n          model {\n            name\n            typeFatherName\n          }\n          transmission {\n            name\n          }\n          fuel {\n            id\n            name\n          }\n          price {\n            price\n            viewPrice\n            priceLabel\n            listPrice\n            viewListPrice\n          }\n          santander {\n            flagActive\n            price\n            fee\n            showPrice\n            quantityFees\n          }\n          user {\n            typeId\n          }\n          ubigeo {\n            provinceName\n            departmentName\n            name\n          }\n          vehicle {\n            modelYear\n            mileage\n            status\n            versionsNumber\n            fabricationYear\n            mileageLabel\n            engineCylinder\n            transmissionBox\n          }\n          entity {\n            id\n            name\n            slug\n            type\n          }\n          cylinder {\n            id\n            capacity\n          }\n          vehicleType {\n            id\n            name\n          }\n          verifiedVehicle {\n            isVerified\n            verifiedAt\n          }\n          publicationType {\n            id\n            name\n          }\n          photos {\n            medium\n          }\n          contact {\n            name\n            sellerLogo\n          }\n          user {\n            id\n            typeId\n          }\n          isSantanderVehicleLiquidation\n        }\n      }\n    "),m=await t.L.request(e,{advertisementId:n,similarAdvertisementInput:{limit:s,vehicleCategoryId:l,modelId:r,brandId:i,vehicleConditionId:o,sort:c}});return p(m.similarAdvertisements)}catch(e){throw Error("Error al obtener getSimilarByFeatures data: ".concat(e instanceof Error?e.message:"Unknown error"))}};var g=i(26682),h={getHighlightedAdvertisements:d,getSimilarByFeatures:f,getAdvertisementStatistics:async e=>{try{let n=(0,g.hP)();return(await t.L.request((0,a.BX)("\n        query AdvertisementStatistics($advertisementId: Float!) {\n          advertisementStatistics(advertisementId: $advertisementId) {\n            views\n          }\n        }\n      "),{advertisementId:e},{Authorization:"Bearer ".concat(n)})).advertisementStatistics.views.toLocaleString("en-US")+" vistas"}catch(e){return(0,s.DT)(e,"AdvertisementStatistics graphql"),""}},getActiveAdCountByUserId:r}}}]);